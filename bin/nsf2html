#!/usr/bin/env ruby

require "nsf"

ARGV.each do |filename|
  if !File.exist?(filename)
    puts "Could not find #{filename}, skipping"
    next
  end

  content = File.read(ARGV.first)

  doc = Nsf::Document.from_nsf(content)

  File.open("#{ARGV.first}.html", "w") do |f|
    f << <<-EOF
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>#{doc.title}</title>
  </head>
  <body>
    #{doc.to_html}
  </body>
</html>
EOF
  end
end
